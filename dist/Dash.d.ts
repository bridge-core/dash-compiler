import { FileSystem } from './FileSystem/FileSystem';
import { DashProjectConfig } from './DashProjectConfig';
import { AllPlugins } from './Plugins/AllPlugins';
import { IncludedFiles } from './Core/IncludedFiles';
import { LoadFiles } from './Core/LoadFiles';
import { ResolveFileOrder } from './Core/ResolveFileOrder';
import { FileTransformer } from './Core/TransformFiles';
import { FileType, PackType } from 'mc-project-core';
import { DashFile } from './Core/DashFile';
import { Progress } from './Core/Progress';
import { Console } from './Common/Console';
import { JsRuntime } from './Common/JsRuntime';
export interface IDashOptions<TSetupArg = void> {
    mode?: 'development' | 'production';
    config: string;
    compilerConfig?: string;
    console?: Console;
    pluginEnvironment?: any;
    verbose?: boolean;
    packType: PackType<TSetupArg>;
    fileType: FileType<TSetupArg>;
    requestJsonData: <T = any>(dataPath: string) => Promise<T>;
}
export declare class Dash<TSetupArg = void> {
    readonly fileSystem: FileSystem;
    protected options: IDashOptions<TSetupArg>;
    readonly outputFileSystem: FileSystem;
    readonly progress: Progress;
    readonly projectConfig: DashProjectConfig;
    readonly projectRoot: string;
    readonly plugins: AllPlugins;
    packType: PackType<any>;
    fileType: FileType<any>;
    includedFiles: IncludedFiles;
    loadFiles: LoadFiles;
    fileOrderResolver: ResolveFileOrder;
    fileTransformer: FileTransformer;
    buildType: string;
    readonly console: Console;
    jsRuntime: JsRuntime;
    constructor(fileSystem: FileSystem, outputFileSystem: FileSystem | undefined, options: IDashOptions<TSetupArg>);
    getMode(): "development" | "production";
    getCompilerConfigPath(): string | undefined;
    get requestJsonData(): <T = any>(dataPath: string) => Promise<T>;
    protected get dashFilePath(): string;
    setup(setupArg: TSetupArg): Promise<void>;
    reload(): Promise<void>;
    get isCompilerActivated(): boolean;
    build(): Promise<void>;
    updateFiles(filePaths: string[], saveDashFile?: boolean): Promise<void>;
    compileFile(filePath: string, fileData: Uint8Array): Promise<[string[], any]>;
    unlinkMultiple(paths: string[], saveDashFile?: boolean, onlyChangeOutput?: boolean): Promise<void>;
    unlink(path: string, updateDashFile?: boolean, onlyChangeOutput?: boolean): Promise<void>;
    rename(oldPath: string, newPath: string): Promise<void>;
    getCompilerOutputPath(filePath: string): Promise<string | undefined>;
    getFileMetadata(filePath: string): Promise<{
        [k: string]: any;
    } | null | undefined>;
    getFileDependencies(filePath: string): Promise<string[]>;
    protected saveDashFile(): Promise<void>;
    protected compileIncludedFiles(files?: DashFile[]): Promise<void>;
    compileAdditionalFiles(filePaths: string[], virtual?: boolean): Promise<void>;
}
export declare function initRuntimes(wasmLocation: string): void;
